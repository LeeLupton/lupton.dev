<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta charset="UTF-8">
  <meta name="author" content="Lee Lupton">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700&display=swap" rel="stylesheet"> 
  <link rel="stylesheet" href="css/styles.css">
  <link rel="icon" type="image/x-icon" href="assets/favicon.ico">
  <title>Secure Financial Portal</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/crypto-js/4.1.1/crypto-js.min.js"></script>
    <style>
    body {
      background: #222; 
      color: #eee; 
      font-family: Arial, sans-serif; 
      margin: 0; 
      padding: 0;
    }
    /* Login Section Styling */
    #loginSection {
      text-align: center;
      padding: 30px;
    }
    #loginSection form {
      display: inline-block;
      margin-top: 20px;
    }
    #loginSection input[type="password"] {
      padding: 10px;
      font-size: 16px;
      width: 220px;
    }
    #loginSection button {
      padding: 10px 20px;
      font-size: 16px;
      margin-top: 10px;
    }
    #loginSection label {
      font-size: 14px;
      margin-left: 5px;
    }
    #errorMsg {
      color: red;
      margin-top: 10px;
    }
    /* Main Content that will be decrypted */
    #mainContent {
      display: none; /* Initially hidden */
      padding: 20px;
    }
  </style>
</head>
<body>

    <div id="loginSection">
    <h2>Please Log In to Access Your Portal</h2>
        <form id="loginForm" onsubmit="event.preventDefault(); decryptAndLoad();">
            <input type="password" id="loginPassword" name="loginPassword" placeholder="Enter your password" autocomplete="current-password">
      <br>
            <input type="checkbox" id="rememberCheckbox" name="rememberCheckbox">
      <label for="rememberCheckbox">Remember my password</label>
      <br>
      <button type="submit">Login</button>
    </form>
    <p id="errorMsg"></p>
  </div>

    <div id="mainContent">
     </div>

    <script>
    // !!! REPLACE THE VALUE BELOW WITH THE ACTUAL CIPHERTEXT GENERATED IN STEP 2 !!!
    var ciphertext = "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"; // <-- PASTE HERE

    // Function to decrypt the encrypted dashboard content.
    function decryptAndLoad() {
      var pwd = document.getElementById('loginPassword').value;
      if (!pwd) {
        document.getElementById("errorMsg").textContent = "Please enter a password.";
        return;
      }
      try {
        // Decrypt the ciphertext using the user-supplied password.
        var bytes = CryptoJS.AES.decrypt(ciphertext, pwd);
        var decryptedText = bytes.toString(CryptoJS.enc.Utf8);

        if (decryptedText) {
          // Inject the decrypted content into the mainContent div.
          // We need to handle potential script execution within the decrypted content.
          // A common way is to append it and let the browser handle parsing.
          var mainContentDiv = document.getElementById("mainContent");
          mainContentDiv.innerHTML = decryptedText; // Inject HTML

          // Find and execute scripts within the injected content
          var scripts = mainContentDiv.getElementsByTagName('script');
          for (var i = 0; i < scripts.length; i++) {
              var script = scripts[i];
              var newScript = document.createElement('script');
              // Copy attributes (like src)
              if (script.src) {
                  newScript.src = script.src;
                  // Ensure async/defer attributes are handled if needed, though often sync execution is expected here.
                  newScript.onload = function() {
                      // Check if the initializeDashboard function exists AFTER the script has loaded/executed
                      if (typeof initializeDashboard === "function") {
                          console.log("Calling initializeDashboard after script load.");
                          initializeDashboard();
                      }
                  };
                   newScript.onerror = function() { console.error("Error loading script: " + newScript.src);};
              } else {
                  newScript.textContent = script.textContent; // Copy inline script content
              }
              // Append the new script element to execute it.
              // Appending to head or body is common. Appending back into mainContent might work but can be less reliable.
              document.body.appendChild(newScript);
              // Remove the original placeholder script tag from the injected content
              // Or handle differently depending on desired script execution order.
              // For simplicity here, we assume initializeDashboard is defined by inline script or loaded synchronously.
              // script.parentNode.removeChild(script); // Careful with modifying collection while iterating
          }


          // Hide the login section, show the main content.
          document.getElementById("loginSection").style.display = "none";
          mainContentDiv.style.display = "block";

          // Attempt to call initializeDashboard immediately for inline scripts
          // Check if the function was defined by an *inline* script within decryptedText
          if (typeof initializeDashboard === "function") {
              console.log("Calling initializeDashboard immediately after injection (for inline scripts).");
              initializeDashboard();
          } else {
              console.log("initializeDashboard not found immediately after injection. Waiting for external scripts if any.");
          }

        } else {
          // This happens if the password is wrong OR if the decrypted text is empty
          document.getElementById("errorMsg").textContent = "Incorrect password or decryption failed.";
        }
      } catch (e) {
        // This catches errors during the decryption process itself (e.g., malformed ciphertext)
        console.error("Decryption error:", e);
        document.getElementById("errorMsg").textContent = "Decryption error. Check password or ciphertext integrity.";
      }
    }
  </script>
</body>
</html>
